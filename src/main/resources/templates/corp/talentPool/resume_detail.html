<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ë ¥ì„œ ìƒì„¸ë³´ê¸°</title>
        <th:block th:replace="~{fragments/external_file :: cdn_block}"></th:block>
        <link rel="stylesheet" th:href="@{/corp/talentPool/interviewOffer.css}"/>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans KR', sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            color: #333;
        }

        .container {
            display: flex;
            min-height: 100vh;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ì™¼ìª½ ì´ë ¥ì„œ ì˜ì—­ */
        .resume-section {
            flex: 1;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            padding: 40px;
            height: fit-content;
        }

        .resume-placeholder {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 600px;
            border: 2px dashed #dee2e6;
            border-radius: 12px;
            background: #f8f9fa;
            color: #6c757d;
            font-size: 18px;
            text-align: center;
            line-height: 1.6;
        }

        /* ì˜¤ë¥¸ìª½ ê³ ì • ì‚¬ì´ë“œë°” */
        .sidebar {
            width: 200px;
            position: sticky;
            top: 20px;
            height: fit-content;
        }

        .sidebar-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        }

        .sidebar-btn {
            width: 100%;
            height: 50px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #333;
            background: white;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .sidebar-btn:hover {
            border-color: #007bff;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.1);
        }

        .sidebar-btn:active {
            transform: translateY(1px);
        }

        /* í¬ì§€ì…˜ ì œì•ˆ ë²„íŠ¼ */
        .position-btn {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .position-btn:hover {
            background: #0056b3;
            border-color: #0056b3;
            box-shadow: 0 2px 8px rgba(0, 123, 255, 0.3);
        }

        /* ìŠ¤í¬ë© ë²„íŠ¼ */
       .bookmark-btn.active {
		    /* border-color ì‚­ì œ, ë²„íŠ¼ í…ìŠ¤íŠ¸ ìƒ‰ì€ ê¸°ë³¸ ìœ ì§€ */
		}
		
		/* â­ ë³„ ê¸°ë³¸ ìƒ‰ìƒ (íšŒìƒ‰) */
		.bookmark-btn .btn-icon {
		    color: #bbb; /* íšŒìƒ‰ */
		    transition: color 0.3s ease;
		}
		
		/* â­ ë³„ì´ í´ë¦­ë˜ì–´ active ìƒíƒœì¼ ë•Œ ë…¸ë€ìƒ‰ìœ¼ë¡œ */
		.bookmark-btn.active .btn-icon {
		    color: #ffc107; /* ë…¸ë€ìƒ‰ */
		}

        /* ê¸°ë³¸ í˜¸ë²„ íš¨ê³¼ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ */

        .btn-icon {
            font-size: 16px;
        }

        .btn-text {
            font-size: 14px;
        }

        /* ë°˜ì‘í˜• ë””ìì¸ */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 15px;
                gap: 15px;
            }
            
            .resume-section {
                padding: 25px;
            }
            
            .resume-placeholder {
                min-height: 400px;
                font-size: 16px;
            }
            
            .sidebar {
                width: 100%;
                position: static;
            }
            
            .sidebar-buttons {
                flex-direction: row;
                padding: 20px;
            }
            
            .sidebar-btn {
                height: 45px;
                font-size: 13px;
            }
        }

        @media (max-width: 480px) {
            .sidebar-buttons {
                flex-direction: column;
            }
        }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .resume-section {
            animation: fadeInUp 0.6s ease-out;
        }

        .sidebar {
            animation: fadeInRight 0.6s ease-out 0.2s both;
        }

        /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ */
        .btn-loading {
            position: relative;
            color: transparent !important;
        }

        .btn-loading::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            top: 50%;
            left: 50%;
            margin-left: -8px;
            margin-top: -8px;
            border: 2px solid transparent;
            border-top-color: currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            color: white;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
        .resume-section::-webkit-scrollbar {
            width: 6px;
        }

        .resume-section::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .resume-section::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        .resume-section::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</head>
<body>
    <th:block th:replace="~{fragments/corpHeader :: corpHeader}"></th:block>
    <div class="container">
        <!-- ì™¼ìª½: ì´ë ¥ì„œ ë‚´ìš© ì˜ì—­ -->
        <div class="resume-section">
            <div class="resume-placeholder">
                ğŸ“„<br>
                <strong>ì´ë ¥ì„œ ë‚´ìš©</strong><br>
            </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½: ê³ ì • ì‚¬ì´ë“œë°” -->
        <div class="sidebar">
            <div class="sidebar-buttons">
                <button class="sidebar-btn position-btn openInterviewModalBtn">
                    <span class="btn-icon">ğŸ’¼</span>
                    <span class="btn-text">ë©´ì ‘ ì œì•ˆ</span>
                </button>
                
                <button class="sidebar-btn bookmark-btn" onclick="handleBookmark()">
                    <span class="btn-icon">â˜…</span>
                    <span class="btn-text">ìŠ¤í¬ë©</span>
                </button>
                
                <button class="sidebar-btn list-btn" onclick="handleGoBack()">
                    <span class="btn-icon">ğŸ“‹</span>
                    <span class="btn-text">ëª©ë¡ìœ¼ë¡œ</span>
                </button>
            </div>
        </div>
    </div>
   			<div class="modal" id="interviewModal" style="display:none;">
			  <div th:replace="~{fragments/interviewOffer.html :: modalContent }"></div> <!-- âœ… ì•ˆì „ -->
			</div>

    <script>
    document.querySelector('.openInterviewModalBtn').addEventListener('click', openModal);

    document.querySelectorAll('.interview-btn').forEach(button => {
    	  button.addEventListener('click', () => {
    	    openModal();
    	  });
    	});
    function openModal() {
        document.getElementById('interviewModal').style.display = 'block';
        document.body.style.overflow = 'hidden'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
    }

    function closeModal() {
        document.getElementById('interviewModal').style.display = 'none';
        document.body.style.overflow = 'auto'; // ë°°ê²½ ìŠ¤í¬ë¡¤ ë³µì›
    }

    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
    window.onclick = function(event) {
        const modal = document.getElementById('interviewModal');
        if (event.target === modal) {
            closeModal();
        }
    }

    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape') {
            closeModal();
        }
    });
/*         // í¬ì§€ì…˜ ì œì•ˆ ë²„íŠ¼ í´ë¦­
        function handlePositionOffer() {
            const btn = document.querySelector('.position-btn');
            const originalContent = btn.innerHTML;
            
            // ë¡œë”© ìƒíƒœ
            btn.classList.add('btn-loading');
            btn.disabled = true;
            
            setTimeout(() => {
                btn.classList.remove('btn-loading');
                btn.disabled = false;
                btn.innerHTML = originalContent;
                
                // ì„±ê³µ íš¨ê³¼
                alert('í¬ì§€ì…˜ ì œì•ˆì„ ë³´ëƒˆìŠµë‹ˆë‹¤!');
            }, 1500);
        } */

        // ìŠ¤í¬ë© ë²„íŠ¼ í´ë¦­
		function handleBookmark() {
		    const btn = document.querySelector('.bookmark-btn');
		    const icon = btn.querySelector('.btn-icon');
		    const text = btn.querySelector('.btn-text');
		
		    if (btn.classList.contains('active')) {
		        // ìŠ¤í¬ë© ì·¨ì†Œ
		        btn.classList.remove('active');
		        // ì•„ì´ì½˜ í…ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ 'â­' ìœ ì§€
		        // text.textContent = 'ìŠ¤í¬ë©';  <-- ì‚­ì œ ë˜ëŠ” ì£¼ì„ ì²˜ë¦¬
		
		        btn.style.transform = 'scale(0.95)';
		        setTimeout(() => {
		            btn.style.transform = 'scale(1)';
		        }, 150);
		
		        showToast('ìŠ¤í¬ë©ì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');
		    } else {
		        // ìŠ¤í¬ë© ì¶”ê°€
		        btn.classList.add('active');
		        // ì•„ì´ì½˜ í…ìŠ¤íŠ¸ëŠ” ê·¸ëŒ€ë¡œ 'â­' ìœ ì§€
		        // text.textContent = 'ìŠ¤í¬ë©ë¨';  <-- ì‚­ì œ ë˜ëŠ” ì£¼ì„ ì²˜ë¦¬
		
		        btn.style.transform = 'scale(1.05)';
		        setTimeout(() => {
		            btn.style.transform = 'scale(1)';
		        }, 150);
		
		        showToast('ì´ë ¥ì„œë¥¼ ìŠ¤í¬ë©í–ˆìŠµë‹ˆë‹¤!');
		    }
		}

        // ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°
		function handleGoBack() {
		    const btn = document.querySelector('.list-btn');
		
		    // ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ ë’¤ë¡œ ê°€ê¸°
		    window.history.back();
		}


        // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ
        function showToast(message) {
            // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°
            const existingToast = document.querySelector('.toast');
            if (existingToast) {
                existingToast.remove();
            }
            
            // ìƒˆ í† ìŠ¤íŠ¸ ìƒì„±
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 12px 24px;
                border-radius: 25px;
                font-size: 14px;
                z-index: 10000;
                animation: toastSlideIn 0.3s ease-out;
            `;
            
            // í† ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ ì¶”ê°€
            const style = document.createElement('style');
            style.textContent = `
                @keyframes toastSlideIn {
                    from {
                        opacity: 0;
                        transform: translateX(-50%) translateY(-20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateX(-50%) translateY(0);
                    }
                }
                @keyframes toastSlideOut {
                    from {
                        opacity: 1;
                        transform: translateX(-50%) translateY(0);
                    }
                    to {
                        opacity: 0;
                        transform: translateX(-50%) translateY(-20px);
                    }
                }
            `;
            
            document.head.appendChild(style);
            document.body.appendChild(toast);
            
            // 3ì´ˆ í›„ ì œê±°
            setTimeout(() => {
                toast.style.animation = 'toastSlideOut 0.3s ease-out';
                setTimeout(() => {
                    toast.remove();
                    style.remove();
                }, 300);
            }, 3000);
        }

        // í˜ì´ì§€ ë¡œë“œ ì• ë‹ˆë©”ì´ì…˜
        window.addEventListener('load', () => {
            document.body.style.opacity = '1';
        });
    </script>
    	<th:block th:replace="~{fragments/corpFooter :: corpFooter}"></th:block>
</body>
</html>