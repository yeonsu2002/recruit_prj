<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>민기인력 - 기업 메인</title>
<th:block th:replace="~{fragments/external_file :: cdn_block}"></th:block>
<link rel="stylesheet" th:href="@{/corp/mainCss/main_page.css}"/>
<style type="text/css">
</style>
<script type="text/javascript">
//오버레이 배경 사용 시 (선택사항)
function showSubmenu() {
    document.querySelector('.corp-overlay').classList.add('active');
}

function hideSubmenu() {
    document.querySelector('.corp-overlay').classList.remove('active');
}

//Thymeleaf의 js에서 사용하는 `[[...]]` 문법은 HTML 주석처럼 무시되지 않고, 브라우저로 보내지기 전에 서버에서 먼저 처리되기 때문입니다. 객체가 전달안되면 오류남




</script>
</head>
<body>
<!-- 로그인여부(session)만 표시 가능 -->
<th:block th:replace="~{fragments/corpHeader :: corpHeader}"></th:block>

<div class="corp-main-container">
    <!-- 대시보드 헤더 -->
    <div class="corp-dashboard-header">
    	<div id="userInfo" sec:authorize="hasRole('ROLE_USER')" >
    		<h2>환영합니다</h2>  
    		<h3>기업회원으로 <span style="color: #c9fe02;">로그인</span> 후 이용해주세요!</h3>
    	</div>
    	<div id="userInfo" sec:authorize="hasRole('ROLE_CORP')" >
	        <div class="corp-welcome-text">
	            <h2>안녕하세요, [<span class="corp-company-name" th:text="${user.email}"></span>]님</h2>
	            <h3>효율적인 채용 관리로 최고의 인재를 찾아보세요! </h3>
	        </div>
    	</div>
        <div class="corp-dashboard-subtitle">
<!--        
            <hr>
            로그인 정보: 
            <br>
            <div th:if="${user == null}">
            	<div>로그인을 먼저 진행해주셔야 사용자 정보를 보실 수 있습니다. </div>
            </div>
            <div th:if="${user != null}">
	            <div th:if="${#authentication.principal}">
		            <div th:text="${#authentication.principal}"></div>
		            <br>
		            <div th:text="${user.authorities}"></div>
		            <br>
		            <div sec:authorize="hasRole('ROLE_CORP')">
		            	<p>이거는 기업회원이면 보여지는 문자</p>
		            </div>
		            <div sec:authorize="!hasRole('ROLE_CORP')">
		            	<p>이거는 기업회원이 아니면 보여지는 문자</p>
		            </div>
	            </div>
	            
	            <div>
	            	<button type="button" class="testEncrypt">암호화</button>
	            		<div>암호화 된 핸드폰 번호 : <span th:text="${encryptPhone}"></span> </div>
	            	<button type="button" class="testEncrypt">복호화</button>
	            		<div>복호화 된 핸드폰 번호 : <span th:text="${decryptPhone}"></span> </div>
	            </div>
            </div>
            
-->            
        </div>
    </div>

    <!-- 통계 카드 -->
    <div class="corp-stats-grid">
        <div class="corp-stat-card">
            <div class="corp-stat-number">12</div>
            <div class="corp-stat-label">진행중인 공고</div>
        </div>
        <div class="corp-stat-card">
            <div class="corp-stat-number">48</div>
            <div class="corp-stat-label">새로운 지원자</div>
        </div>
        <div class="corp-stat-card">
            <div class="corp-stat-number">156</div>
            <div class="corp-stat-label">총 지원자 수</div>
        </div>
        <div class="corp-stat-card">
            <div class="corp-stat-number">8</div>
            <div class="corp-stat-label">면접 예정</div>
        </div>
    </div>

    <!-- 메인 콘텐츠 그리드 -->
    <div class="corp-main-grid">
        <!-- 최근 공고 -->
        <div class="corp-recent-jobs">
            <div class="corp-section-header">
                <h3 class="corp-section-title">최근 등록한 공고</h3>
                <button class="corp-view-all-btn">전체보기</button>
            </div>
            <ul class="corp-job-list">
                <li class="corp-job-item">
                    <div class="corp-job-title">웹 개발자 (React, Node.js)</div>
                    <div class="corp-job-meta">
                        <span>등록일: 2024.06.20</span>
                        <span>지원자: 15명</span>
                        <span class="corp-job-status corp-status-active">진행중</span>
                    </div>
                </li>
                <li class="corp-job-item">
                    <div class="corp-job-title">UI/UX 디자이너</div>
                    <div class="corp-job-meta">
                        <span>등록일: 2024.06.18</span>
                        <span>지원자: 23명</span>
                        <span class="corp-job-status corp-status-active">진행중</span>
                    </div>
                </li>
                <li class="corp-job-item">
                    <div class="corp-job-title">마케팅 매니저</div>
                    <div class="corp-job-meta">
                        <span>등록일: 2024.06.15</span>
                        <span>지원자: 8명</span>
                        <span class="corp-job-status corp-status-closed">마감</span>
                    </div>
                </li>
            </ul>
        </div>

        <!-- 빠른 기능 -->
        <div class="corp-quick-actions">
            <div class="corp-section-header">
                <h3 class="corp-section-title">빠른 기능</h3>
            </div>
            <ul class="corp-action-list">
                <li class="corp-action-item">
                    <a th:href="@{/void}" class="corp-action-link">
                        <div class="corp-action-icon">📝</div>
                        <div class="corp-action-text">
                            <div class="corp-action-title">새 공고 등록</div>
                            <div class="corp-action-desc">새로운 채용공고를 등록하세요</div>
                        </div>
                    </a>
                </li>
                <li class="corp-action-item">
                    <a th:href="@{/void}" class="corp-action-link">
                        <div class="corp-action-icon">👥</div>
                        <div class="corp-action-text">
                            <div class="corp-action-title">지원자 관리</div>
                            <div class="corp-action-desc">지원자 현황을 확인하세요</div>
                        </div>
                    </a>
                </li>
                <li class="corp-action-item">
                    <a th:href="@{/void}" class="corp-action-link">
                        <div class="corp-action-icon">🔍</div>
                        <div class="corp-action-text">
                            <div class="corp-action-title">인재 검색</div>
                            <div class="corp-action-desc">원하는 인재를 찾아보세요</div>
                        </div>
                    </a>
                </li>
                <li class="corp-action-item">
                    <a th:href="@{/void}" class="corp-action-link">
                        <div class="corp-action-icon">🤖</div>
                        <div class="corp-action-text">
                            <div class="corp-action-title">AI 인재 추천</div>
                            <div class="corp-action-desc">AI가 추천하는 최적의 인재</div>
                        </div>
                    </a>
                </li>
                <li class="corp-action-item">
                    <a th:href="@{/void}" class="corp-action-link">
                        <div class="corp-action-icon">💰</div>
                        <div class="corp-action-text">
                            <div class="corp-action-title">포인트 충전</div>
                            <div class="corp-action-desc">서비스 이용을 위한 포인트 충전</div>
                        </div>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- 최근 지원자 -->
    <div class="corp-recent-applicants">
        <div class="corp-section-header">
            <h3 class="corp-section-title">최근 지원자</h3>
            <button class="corp-view-all-btn">전체보기</button>
        </div>
        <ul class="corp-applicant-list">
            <li class="corp-applicant-item">
                <div class="corp-applicant-avatar">김</div>
                <div class="corp-applicant-info">
                    <div class="corp-applicant-name">김민수</div>
                    <div class="corp-applicant-job">웹 개발자 지원</div>
                </div>
                <div class="corp-applicant-time">2시간 전</div>
            </li>
            <li class="corp-applicant-item">
                <div class="corp-applicant-avatar">이</div>
                <div class="corp-applicant-info">
                    <div class="corp-applicant-name">이지영</div>
                    <div class="corp-applicant-job">UI/UX 디자이너 지원</div>
                </div>
                <div class="corp-applicant-time">5시간 전</div>
            </li>
            <li class="corp-applicant-item">
                <div class="corp-applicant-avatar">박</div>
                <div class="corp-applicant-info">
                    <div class="corp-applicant-name">박성호</div>
                    <div class="corp-applicant-job">웹 개발자 지원</div>
                </div>
                <div class="corp-applicant-time">1일 전</div>
            </li>
        </ul>
    </div>

    <!-- 공지사항 -->
    <div class="corp-notice-section">
        <div class="corp-section-header">
            <h3 class="corp-section-title">공지사항</h3>
            <button class="corp-view-all-btn">전체보기</button>
        </div>
        <ul class="corp-notice-list">
            <li class="corp-notice-item">
                <div class="corp-notice-title">채용 서비스 개선 안내</div>
                <div class="corp-notice-date">2024.06.20</div>
            </li>
            <li class="corp-notice-item">
                <div class="corp-notice-title">AI 인재 추천 서비스 출시</div>
                <div class="corp-notice-date">2024.06.18</div>
            </li>
            <li class="corp-notice-item">
                <div class="corp-notice-title">개인정보 처리방침 변경 안내</div>
                <div class="corp-notice-date">2024.06.15</div>
            </li>
        </ul>
    </div>
</div>

<th:block th:replace="~{fragments/corpFooter :: corpFooter}"></th:block>
</body>
</html>