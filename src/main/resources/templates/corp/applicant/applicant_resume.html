<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì´ë ¥ì„œ ìƒì„¸ë³´ê¸°</title>
<link rel="stylesheet" th:href="@{/corp/applicant/applicant_resume.css}">
</head>
<body>
<header>
<th:block th:replace="~{fragments/corpHeader :: corpHeader}"></th:block>
</header>
<main>
	<div class="container">
		<div class="resume-section">
			<div class="section">
				<div class="section-title">ê¸°ë³¸ì •ë³´</div>
				<div class="basic-info">
					<div class="profile-image">
						<img th:src="@{/images/profileImg/{img}(img=${resume.image})}" alt="í”„ë¡œí•„ ì‚¬ì§„">
					</div>
					<div class="info-details">
						<div class="name" th:text="${resumeUser.name}"></div>
						<div class="contact-info">
							<div class="contact-item" th:text="|âœ‰ ${resumeUser.email}|"></div>
							<div class="phone-birth">
								<span th:text="|ğŸ“ ${resumeUser.phone}|"></span> 
								<span th:text="|ğŸ“… ${resumeUser.birth}|"></span>
							</div>
						</div>
					</div>
				</div>
				<br>
				<div>
					<div class="intro-question" th:if="${resume.introduction}" th:text="${resume.introduction}"></div>
					<div class="skills-interests" th:if="${!#lists.isEmpty(positions)}">
						<div class="skill-item">
							<h4>ê°œë°œ ì§ë¬´</h4>
							<th:block th:each="position : ${positions}">
								<span class="tag" th:text="${position.positionName}"></span>
							</th:block>
						</div>
					</div>
					<br>
					<div class="skills-interests">
						<div class="skill-item" th:if="${!#lists.isEmpty(skills)}">
							<h4>ê¸°ìˆ  ìŠ¤íƒ</h4>
							<th:block th:each="skill : ${skills}">
								<span class="tag" th:text="${skill.stackName}"></span>
							</th:block>
						</div>
					</div>
				</div>
			</div>

			<div class="section" th:if="${!#lists.isEmpty(educations)}">
				<div class="section-title">í•™ë ¥</div>
				<div class="timeline-item" th:each="education : ${educations}">
					<div class="timeline-date" th:text="|${education.graduateDate} ì¡¸ì—…|"></div>
					<div class="timeline-content">
						<h4 th:text="${education.schoolName}"></h4>
						<p>
							<span th:text="${education.educationType}"></span> | <span th:text="${education.department}"></span>
						</p>
						<p class="sub-info">
							<span th:text="${education.grade}"></span> / <span th:text="${education.standardGrade}"></span>
						</p>
					</div>
				</div>
			</div>

			<div class="section" th:if="${!#lists.isEmpty(careers)}">
				<div class="section-title">ê²½ë ¥(ì—…ë¬´ê²½í—˜)</div>
				<div class="timeline-item" th:each="career : ${careers}">
					<div class="timeline-date" th:text="|${career.startDate} - ${career.endDate}|"></div>
					<div class="timeline-content">
						<h4 th:text="${career.companyName}"></h4>
						<p th:text="${career.position}"></p>
						<p th:text="${career.careerDescription}"></p>
					</div>
				</div>
			</div>

			<div class="section" th:if="${!#lists.isEmpty(projects)}">
				<div class="section-title">í”„ë¡œì íŠ¸</div>
				<div class="timeline-item" th:each="project : ${projects}">
					<div class="timeline-date" th:text="|${project.startDate} - ${project.endDate}|"></div>
					<div class="timeline-content">
						<h4 th:text="${project.projectName}"></h4>
						<div class="project-details">
							<p>
							<th:block th:each="skills : ${project.projectSkills}">
								<span class="tag" th:text="${skills.stackName}"></span>
							</th:block>
							</p>
							<h5>ìƒì„¸ë‚´ìš©</h5>
							<p th:text="${project.projectContent}"></p>
							<h5>ì €ì¥ì†Œ ë§í¬</h5>
							<p th:text="${project.repositoryLink}"></p>
							<h5 th:if="${project.releaseStatus == 'Y'}">ë°°í¬ ì™„ë£Œ</h5>
						</div>
					</div>
				</div>
			</div>

			<div class="section" th:if="${!#lists.isEmpty(additionals)}">
				<div class="section-title">ê¸°íƒ€ì‚¬í•­</div>
				<div class="timeline-item" th:each="additional : ${additionals}">
					<div class="timeline-date" th:text="${additional.endDate}"></div>
					<div class="timeline-content">
						<h4 th:text="${additional.activityName}"></h4>
						<p>
							<span th:text="${additional.recordType}"></span> | <span th:text="${additional.relatedAgency}"></span>
						</p>
						<h4>ìƒì„¸ ë‚´ìš©</h4>
						<p th:text="${additional.detailContent}"></p>
					</div>
				</div>
			</div>

			<div class="section" th:if="${!#lists.isEmpty(introductions)}">
				<div class="section-title">ìê¸°ì†Œê°œì„œ</div>
				<div class="timeline-item" th:each="intro : ${introductions}">
					<div class="timeline-date" th:text="${intro.title}"></div>
					<br>
					<div th:text="${intro.content}"></div>
				</div>
			</div>

			<div class="section" th:if="${links != null and ((links.githubUrl != null and links.githubUrl != '') or (links.notionUrl != null and links.notionUrl != '') or (links.blogUrl != null and links.blogUrl != ''))}">
				<div class="section-title">ë§í¬</div>
				<div class="links-section">
					<div th:if="${links.githubUrl != null and links.githubUrl != ''}" style="margin-bottom: 20px;">
						<strong>Github</strong> <span th:text="${links.githubUrl}" style="margin-left: 50px;"></span>
					</div>
					<div th:if="${links.notionUrl != null and links.notionUrl != ''}" style="margin-bottom: 20px;">
						<strong>Notion</strong> <span th:text="${links.notionUrl}" style="margin-left: 50px;"></span>
					</div>
					<div th:if="${links.blogUrl != null and links.blogUrl != ''}" style="margin-bottom: 20px;">
						<strong>BLOG</strong> <span th:text="${links.blogUrl}" style="margin-left: 50px;"></span>
					</div>
				</div>
			</div>
		</div>

		<div class="sidebar">
			<div class="sidebar-buttons">
				<button class="sidebar-btn position-btn" onclick="openModal()">
					<span class="btn-icon">ğŸ’¼</span> <span class="btn-text">ì§€ì›ìƒíƒœ ë³€ê²½</span>
				</button>

				<button class="sidebar-btn bookmark-btn" onclick="handleBookmark()">
					<span class="btn-icon">â˜…</span> <span class="btn-text">ìŠ¤í¬ë©</span>
				</button>

				<button class="sidebar-btn list-btn" onclick="handleGoBack()">
					<span class="btn-icon">ğŸ“‹</span> <span class="btn-text">ëª©ë¡ìœ¼ë¡œ</span>
				</button>
			</div>
		</div>
	</div>

	<!-- ëª¨ë‹¬ ì°½ -->
	<div class="modal" id="interviewModal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>ë©´ì ‘ ì•ˆë‚´ ë©”ì¼ ë³´ë‚´ê¸°</h3>
				<button type="button" class="modal-close" onclick="closeModal()">Ã—</button>
			</div>

			<div class="modal-body">
				<form method="post" action="#">
						<div class="form-row">
							<select class="form-select" name="applicationStatus">
								<option value="ì‹ ê·œì§€ì›">ì‹ ê·œì§€ì›</option>
								<option value="ì„œë¥˜í†µê³¼">ì„œë¥˜í†µê³¼</option>
								<option value="ìµœì¢…í•©ê²©">ìµœì¢…í•©ê²©</option>
								<option value="ë¶ˆí•©ê²©">ë¶ˆí•©ê²©</option>
							</select>
						</div>

					<div class="email-section">
						<div class="email-title">
							<input type="text" class="email-title-input" placeholder="ì´ë©”ì¼ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
						</div>

						<div class="email-body">
							<textarea class="form-input email-textarea" name="emailBody" rows="12" placeholder="ë©”ì¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
						</div>
					</div>

					<div class="contact-info">
						<div><span class="info-icon">ğŸ“</span> ë¬¸ì˜: 1588-1234 (í‰ì¼ 09:00~18:00)</div>
						<div><span class="info-icon">ğŸ“§</span> ì´ë©”ì¼: support@company.com</div>
					</div>

					<button type="submit" class="submit-btn">
						<span class="btn-send-icon">ğŸ“§</span> ë©”ì¼ ë³´ë‚´ê¸°
					</button>
				</form>
			</div>
		</div>
	</div>
</main>

<script>
function openModal() {
    document.getElementById('interviewModal').style.display = 'block';
}

function closeModal() {
    document.getElementById('interviewModal').style.display = 'none';
}

function handleBookmark() {
    const btn = document.querySelector('.bookmark-btn');
    btn.classList.toggle('active');
}

function handleGoBack() {
    window.history.back();
}

// ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ëª¨ë‹¬ ë‹«ê¸°
window.onclick = function(event) {
    const modal = document.getElementById('interviewModal');
    if (event.target === modal) {
        closeModal();
    }
}

// ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
        closeModal();
    }
});
</script>
<footer>
	<th:block th:replace="~{fragments/corpFooter :: corpFooter}"></th:block>
</footer>
</body>
</html>